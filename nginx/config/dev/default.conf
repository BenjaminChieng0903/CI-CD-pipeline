   server {
    listen 8088;
    server_name localhost;

    # Allow health check to bypass the HTTPS redirect
    location /health {
        return 200 "healthy";
        add_header Content-Type text/plain;
    }
    
    # Redirect all HTTP requests to HTTPS
    # return 301 https://$host$request_uri;
    root /usr/share/nginx/html;
    index index.html;

    # Proxy to User service
    location /v1/api/users/ {
        proxy_pass http://user_service/v1/api/users/;
        include /etc/nginx/common.headers.conf;
    }

    # Proxy to Product service
    location /v1/api/product/ {
        proxy_pass http://product_service/v1/api/product/;
        include /etc/nginx/common.headers.conf;
    }

    # Proxy to Order service
    location /v1/api/order/ {
        proxy_pass http://order_service/v1/api/order/;
        include /etc/nginx/common.headers.conf;
    }

    # Optional: Default fallback for unrecognized requests
    # location / {
    #     return 404;
    # }
    location / {

    try_files $uri $uri/ =404;
    }
}